<?xml version="1.0" encoding="UTF-8"?>
<schema xmlns:diggs="http://diggsml.org/schemas/2.6"
    xmlns:eml="http://www.energistics.org/energyml/data/commonv2"
    xmlns:witsml="http://www.energistics.org/energyml/data/witsmlv2"
    xmlns:g3.3="http://www.opengis.net/gml/3.3/ce" xmlns:glr="http://www.opengis.net/gml/3.3/lr"
    xmlns:glrov="http://www.opengis.net/gml/3.3/lrov"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.w3.org/2001/XMLSchema"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml/3.2"
    xmlns:vc="http://www.w3.org/2007/XMLSchema-versioning"
    targetNamespace="http://diggsml.org/schemas/2.6" version="2.6" elementFormDefault="qualified"
    vc:maxVersion="1.1" vc:minVersion="1.0">
    <!--
 import the gml and xlinks namespaces (original local profiles)  
-->
    <include schemaLocation="Diggs.xsd"/>
    <import namespace="http://www.w3.org/1999/xlink" schemaLocation="xlinks.xsd"/>
    <import namespace="http://www.energistics.org/energyml/data/commonv2"
        schemaLocation="witsml/2.0/data/common/v2.1/xsd_schemas/EmlAllObjects.xsd"/>
    <import namespace="http://www.energistics.org/energyml/data/witsmlv2"
        schemaLocation="witsml/2.0/data/witsml/v2.0/xsd_schemas/WitsmlAllObjects.xsd"/>
    <import namespace="http://www.opengis.net/gml/3.2" schemaLocation="gml3.2Profile_diggs.xsd"/>
    <import namespace="http://www.w3.org/XML/1998/namespace" schemaLocation="xml.xsd"/>

    <import namespace="http://www.opengis.net/gml/3.3/ce" schemaLocation="gml3.3Profile_diggs.xsd"/>
    <import namespace="http://www.opengis.net/gml/3.3/lr" schemaLocation="glrProfile_diggs.xsd"/>
    <import namespace="http://www.opengis.net/gml/3.3/lrov" schemaLocation="glrovProfile_diggs.xsd"/>
    <element name="ProcessedGeophysicalSurvey" type="diggs:ProcessedGeophysicalSurveyType"
        substitutionGroup="diggs:AbstractProcedure"/>
    <element abstract="true" name="AbstractVolumeSamplingFeature"
        substitutionGroup="diggs:AbstractSamplingFeature"
        type="diggs:AbstractVolumeSamplingFeatureType">
        <annotation>
            <documentation>Base type for sampling features with volume (3D)
                geometries.</documentation>
        </annotation>
    </element>
    <complexType abstract="true" name="AbstractVolumeSamplingFeatureType">
        <complexContent>
            <extension base="diggs:AbstractSamplingFeatureType">
                <sequence>
                    <element minOccurs="0" name="referenceEdge"
                        type="diggs:LinearExtentPropertyType"/>
                    <element maxOccurs="1" minOccurs="0" name="featureExtent"
                        type="diggs:AbstractVolumePropertyType">
                        <annotation>
                            <documentation> This element defines the extent of the solid
                                feature using a absolute CRS. This element can be used for visual
                                representations using typical/simple mapping software
                            </documentation>
                        </annotation>
                    </element>
                    <element maxOccurs="1" minOccurs="0" name="relativeFeatureBoundary"
                        type="diggs:AbstractVolumePropertyType">
                        <annotation>
                            <documentation> This element defines the polygon extent of the planar
                                feature using a relative planar referencing system (must use
                                planarReferencing property contents). This element should be used
                                for software that can handle planar referencing (e.g.
                                LinearSpatialReferenceSystem in GML 3.3) </documentation>
                        </annotation>
                    </element>
                    <element maxOccurs="unbounded" minOccurs="0" name="volumeReferencing"
                        type="diggs:VectorLinearSpatialReferenceSystemPropertyType"/>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    <complexType name="SurfaceSpaceType">
        <complexContent>
            <extension base="diggs:AbstractPlanarSamplingFeatureType"/>
        </complexContent>
    </complexType>
    <element name="SurfaceSpace" type="diggs:SurfaceSpaceType"
        substitutionGroup="diggs:AbstractSamplingFeature"/>
    <complexType name="AbstractVolumePropertyType">
        <complexContent>
            <restriction base="gml:DomainSetType">
                <sequence minOccurs="0">
                    <choice>
                        <element ref="diggs:AbstractVolume"/>
                        <!--
DSB: REMOVED FROM PROFILE
        <element ref="gml:AbstractTimeObject"/>
        
-->
                    </choice>
                </sequence>
                <attributeGroup ref="gml:OwnershipAttributeGroup"/>
                <attributeGroup ref="gml:AssociationAttributeGroup"/>
            </restriction>
        </complexContent>
    </complexType>
    <complexType abstract="true" name="AbstractVolumeType">
        <annotation>
            <documentation>diggs:AbstractSolidType is an abstraction of a solid to support the
                different levels of complexity. The solid may always be viewed as a geometric
                primitive, i.e. is continuous.</documentation>
        </annotation>
        <complexContent>
            <extension base="diggs:AbstractGeometricPrimitiveType"/>
        </complexContent>
    </complexType>
    <element abstract="true" name="AbstractVolume" type="diggs:AbstractVolumeType"
        substitutionGroup="diggs:AbstractGeometry"/>
    <complexType name="SolidType">
        <complexContent>
            <extension base="diggs:AbstractVolumeType">
                <sequence>
                    <element minOccurs="0" name="exterior" type="diggs:ShellPropertyType"/>
                    <element maxOccurs="unbounded" minOccurs="0" name="interior"
                        type="diggs:ShellPropertyType"/>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    <element name="Solid" substitutionGroup="diggs:AbstractVolume" type="diggs:SolidType">
        <annotation>
            <documentation>A Diggs geometry object that forms the basis for 3-dimensional geometry. The extent of a solid is defined by the boundary surfaces. exterior specifies the outer boundary, interior the inner boundary of the solid.</documentation>
        </annotation>
    </element>
    <complexType name="ShellType">
        <complexContent>
            <extension base="diggs:AbstractSurfaceType">
                <sequence>
                    <element name="surfaceMember" type="diggs:AbstractSurfacePropertyType"
                        maxOccurs="unbounded"/>
                    <element minOccurs="0" name="uncertainty" type="diggs:UncertaintyPropertyType"/>
                </sequence>
                <attributeGroup ref="gml:AggregationAttributeGroup"/>
            </extension>
        </complexContent>
    </complexType>
    <element name="Shell" type="diggs:ShellType" substitutionGroup="diggs:AbstractSurface">
        <annotation>
            <documentation>A shell is used to represent a single connected component of a solid boundary.
                Every diggs:surfaceMember references or contains one surface, i.e. any element which is substitutable for diggs:AbstractSurface. In the context of a shell, the surfaces describe the boundary of the solid. 
                If provided, the aggregationType attribute shall have the value "set".
            </documentation>
        </annotation>
    </element>
    <complexType name="ShellPropertyType">
        <annotation>
            <documentation>A property with the content model of gml:ShellPropertyType encapsulates a shell to represent a component of a solid boundary.</documentation>
        </annotation>
        <sequence>
            <element ref="diggs:Shell"/>
        </sequence>
    </complexType>

    <element name="VolumeSpace" substitutionGroup="diggs:AbstractSamplingFeature"
        type="diggs:VolumeSpaceType">
        <annotation>
            <documentation>A Diggs geometry object that represents a surface that does not lie within a single plane. It contains an array of polygon patches, each of which contain and inner and optionally outer ring that define the extent of the patch. All of the coordinate points within a patch must be coplanar, and each patch must share an edge with an adjacent patch to form a continuous surface. </documentation>
        </annotation>
    </element>
    <complexType name="VolumeSpaceType">
        <complexContent>
            <extension base="diggs:AbstractVolumeSamplingFeatureType"/>
        </complexContent>
    </complexType>
    <complexType name="AbstractSurfacePropertyType">
        <complexContent>
            <restriction base="gml:DomainSetType">
                <sequence minOccurs="0">
                    <choice>
                        <element ref="diggs:AbstractSurface"/>
                        <!--
DSB: REMOVED FROM PROFILE
        <element ref="gml:AbstractTimeObject"/>
        
-->
                    </choice>
                </sequence>
                <attributeGroup ref="gml:OwnershipAttributeGroup"/>
                <attributeGroup ref="gml:AssociationAttributeGroup"/>
            </restriction>
        </complexContent>
    </complexType>
    <complexType abstract="true" name="AbstractSurfaceType">
        <annotation>
            <documentation>gml:AbstractSurfaceType is an abstraction of a surface to support the
                different levels of complexity. A surface is always a continuous region of a
                plane.</documentation>
        </annotation>
        <complexContent>
            <extension base="diggs:AbstractGeometricPrimitiveType"/>
        </complexContent>
    </complexType>
    <element abstract="true" name="AbstractSurface" nillable="false"
        substitutionGroup="diggs:AbstractGeometry" type="diggs:AbstractSurfaceType">
        <annotation>
            <documentation>Base type for all 2D surface objects.</documentation>
        </annotation>
    </element>
    <element name="PlanarSurface" substitutionGroup="diggs:AbstractSurface" type="diggs:PolygonType">
        <annotation>
            <documentation>A Diggs geometry object that represents a surface that lies within a single plain. It's properties are of a polygon with an outer ring and optionally multiple inner rings The coordinate points that define all of the rings must be coplanar</documentation>
        </annotation>
    </element>
    <complexType name="MultiPlanarSurfaceType">
        <complexContent>
            <extension base="diggs:AbstractSurfaceType">
                <sequence>
                    <element ref="gml:patches"/>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    <element name="MultiPlanarSurface" substitutionGroup="diggs:AbstractSurface"
        type="diggs:MultiPlanarSurfaceType">
        <annotation>
            <documentation>A Diggs geometry object that represents a surface that does not lie within a single plane. It contains an array of polygon patches, each of which contain and inner and optionally outer ring that define the extent of the patch. All of the coordinate points within a patch must be coplanar, and each patch must share an edge with an adjacent patch to form a continuous surface. </documentation>
        </annotation>
    </element>
    <complexType name="RectifiedGridType">
        <complexContent>
            <extension base="diggs:GridType">
                <sequence>
                    <element name="origin" type="gml:PointPropertyType"/>
                    <element maxOccurs="unbounded" name="offsetVector" type="gml:VectorType"/>
                    <element minOccurs="0" name="uncertainty"
                        type="diggs:LocationUncertaintyPropertyType"/>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    <element name="RectifiedGrid" substitutionGroup="diggs:AbstractGeometry"
        type="diggs:RectifiedGridType"/>
    <element name="Grid" type="diggs:GridType"/>
    <complexType name="GridType">
        <complexContent>
            <extension base="diggs:AbstractGeometryType">
                <sequence>
                    <element name="limits" type="gml:GridLimitsType"/>
                    <choice>
                        <element name="axisLabels" type="gml:NCNameList"/>
                        <element maxOccurs="unbounded" name="axisName" type="string"/>
                    </choice>
                </sequence>
                <attribute name="dimension" type="positiveInteger" use="required"/>
            </extension>
        </complexContent>
    </complexType>
    <element name="gridMappingFunction" substitutionGroup="gml:AbstractObject"
        type="gml:CoverageFunctionType">
        <annotation>
            <documentation>The gridMappingFunction property describes the mapping function from the
        domain to the range for gridded locations. If omitted,  the gml:startPoint is
        assumed to be the value of the gml:low property in the gml:Grid geometry, and the
        gml:sequenceRule is assumed to be linear and the gml:axisOrder property is assumed to be
        â€œ+1 +2â€.</documentation>
        </annotation>
    </element>
    <element name="geophysicalMethod" type="diggs:GeophysicalMethodEnumExtType"/>
    <simpleType name="GeophysicalMethodEnumType">
        <restriction base="string">
            <enumeration value="borehole image log"/>
            <enumeration value="borehole seismic"/>
            <enumeration value="electrical resistivity"/>
            <enumeration value="frequency domain EM"/>
            <enumeration value="gravity"/>
            <enumeration value="ground penetrating radar"/>
            <enumeration value="induced polarization"/>
            <enumeration value="magnetometry"/>
            <enumeration value="magnetotellurics"/>
            <enumeration value="MASW - active"/>
            <enumeration value="MASW - passive"/>
            <enumeration value="nuclear magnetic resonance"/>
            <enumeration value="radiometric"/>
            <enumeration value="seismic reflection"/>
            <enumeration value="seismic refraction"/>
            <enumeration value="self-potential"/>
            <enumeration value="time-domain EM"/>
            <enumeration value="VLF EM"/>
        </restriction>
    </simpleType>
    <simpleType name="GeophysicalMethodEnumExtType" final="">
        <union memberTypes="diggs:GeophysicalMethodEnumType diggs:OtherNameType"/>
    </simpleType>
    <complexType name="ProcessingStepsArrayPropertyType">
        <sequence maxOccurs="unbounded" minOccurs="0">
            <element ref="diggs:ProcessingStep"/>
        </sequence>
    </complexType>
    <element name="ProcessingStep" type="diggs:ProcessingStepType"/>
    <complexType name="ProcessingStepType">
        <complexContent>
            <extension base="gml:AbstractMetadataPropertyType">
                <sequence>
                    <element maxOccurs="unbounded" minOccurs="0" name="associatedFile"
                        type="diggs:AssociatedFilePropertyType">
                        <annotation>
                            <appinfo source="urn:x-gml:targetElement">diggs:AssociatedFile</appinfo>
                            <documentation>A reference to an AssociatedFile object that provides
                                information about external files or documents associated with this
                                processing step. The target value is indicated in the appinfo
                                element.</documentation>
                        </annotation>
                    </element>
                    <element maxOccurs="unbounded" minOccurs="0" name="role"
                        type="diggs:RolePropertyType">
                        <annotation>
                            <documentation>Identifies a specific role or task performed that is
                                associated with this specific feature, the person or organization
                                that performed the role, and associated time frame, if
                                applicable.</documentation>
                        </annotation>
                    </element>
                    <element maxOccurs="unbounded" minOccurs="0" name="remark"
                        type="diggs:RemarkPropertyType">
                        <annotation>
                            <documentation>Any comment or remark associated with this specific
                                processing step.</documentation>
                        </annotation>
                    </element>
                    <element maxOccurs="unbounded" minOccurs="0" name="equipment"
                        type="diggs:EquipmentPropertyType">
                        <annotation>
                            <appinfo>diggs:AbstractEquipment</appinfo>
                            <documentation>A property element that supports a value by reference
                                only. The target value is indicated in the appinfo
                                element.</documentation>
                        </annotation>
                    </element>
                    <element minOccurs="0" name="timePerformed" type="diggs:TimeIntervalType">
                        <annotation>
                            <documentation>The time or time interval during which the processing step was performed.</documentation>
                        </annotation>
                    </element>
                    <element minOccurs="0" name="processStepDescription"
                        type="diggs:DiggsStringType">
                        <annotation>
                            <documentation>A narrative description of the processing step</documentation>
                        </annotation>
                    </element>
                    <element minOccurs="0" name="processStepName" type="gml:CodeType">
                        <annotation>
                            <documentation>If applicable, a name for this processing step.</documentation>
                        </annotation>
                    </element>
                </sequence>
                <attribute name="index" type="positiveInteger">
                    <annotation>
                        <documentation>This attribute is used to explicitly define the sequence of processing steps, numbered as 1,2,3, etc. in sequence order. If omitted, the processing sequence is assumed to follow the order of the ProcessingStep</documentation>
                    </annotation>
                </attribute>
            </extension>
        </complexContent>
    </complexType>
    <complexType name="ProcessedGeophysicalSurveyType">
        <complexContent>
            <extension base="diggs:AbstractProcedureType">
                <sequence>
                    <element maxOccurs="unbounded" minOccurs="0" name="equipment"
                        type="diggs:EquipmentPropertyType">
                        <annotation>
                            <appinfo>diggs:AbstractEquipment</appinfo>
                            <documentation>A property element that supports a value by reference
                                only. The target value is indicated in the appinfo
                                element.</documentation>
                        </annotation>
                    </element>
                    <element minOccurs="0" name="dataAcquisitionMeasurementRef"
                        type="diggs:FeatureReferenceType">
                        <annotation>
                            <documentation>A reference to the gml:ID, reported in the xlink:href attribute, of the measurement that contains the results obtained during data acquisition and that serves as input into the processing steps that produce the results of this associated measurement</documentation>
                        </annotation>
                    </element>
                    <element ref="diggs:geophysicalMethod" minOccurs="1">
                        <annotation>
                            <documentation>A controlled term for the name of the geophysical survey method used to obtain the associated results.</documentation>
                        </annotation>
                    </element>
                    <element minOccurs="0" name="processingSteps"
                        type="diggs:ProcessingStepsArrayPropertyType">
                        <annotation>
                            <documentation>An array of processing step objects that describe the steps undertaken to transform the originally acquired geophysical data to the associated processed results</documentation>
                        </annotation>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
</schema>
